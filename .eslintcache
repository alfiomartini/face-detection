[{"C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\index.js":"1","C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\reportWebVitals.js":"2","C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\Navigation.jsx":"3","C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\Logo.jsx":"4","C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\ImageForm.jsx":"5","C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\Rank.jsx":"6","C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\FaceRecognition.jsx":"7","C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\auth\\Signin.jsx":"8","C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\auth\\Signout.jsx":"9","C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\App.jsx":"10","C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\auth\\Signup.jsx":"11","C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\Navbar.jsx":"12"},{"size":635,"mtime":1606528986512,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":1606170063698,"results":"15","hashOfConfig":"14"},{"size":459,"mtime":1606528925455,"results":"16","hashOfConfig":"14"},{"size":431,"mtime":1606256765233,"results":"17","hashOfConfig":"18"},{"size":498,"mtime":1606265626301,"results":"19","hashOfConfig":"14"},{"size":382,"mtime":1607317573816,"results":"20","hashOfConfig":"14"},{"size":555,"mtime":1606820788377,"results":"21","hashOfConfig":"14"},{"size":2606,"mtime":1607400696862,"results":"22","hashOfConfig":"14"},{"size":347,"mtime":1606528868789,"results":"23","hashOfConfig":"14"},{"size":4685,"mtime":1607717199239,"results":"24","hashOfConfig":"14"},{"size":2732,"mtime":1607408681605,"results":"25","hashOfConfig":"14"},{"size":1423,"mtime":1607717973336,"results":"26","hashOfConfig":"14"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"1hxykom",{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"az1l4b",{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\index.js",[],["54","55"],"C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\reportWebVitals.js",[],"C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\Navigation.jsx",[],"C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\Logo.jsx",[],"C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\ImageForm.jsx",[],"C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\Rank.jsx",[],"C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\FaceRecognition.jsx",[],"C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\auth\\Signin.jsx",[],"C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\auth\\Signout.jsx",[],"C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\App.jsx",["56"],"import { React, Component } from 'react';\nimport './App.css';\nimport Navigation from './components//Navigation.jsx';\nimport ImageForm from './components/ImageForm.jsx';\nimport Rank from './components/Rank.jsx';\nimport Particles from 'react-particles-js';\nimport Clarifai from 'clarifai';\nimport FaceRecognition from './components/FaceRecognition.jsx'\nimport Signin from './components/auth/Signin.jsx';\nimport Signup from './components/auth/Signup.jsx';\nimport Navbar from './components/Navbar'\n\nconst app = new Clarifai.App(\n  // have to save this in an environment variable\n  // https://medium.com/@trekinbami/using-environment-variables-in-react-6b0a99d83cf5\n  // https://create-react-app.dev/docs/adding-custom-environment-variables/\n  {\n    apiKey: '5e80f6ee89054099babe7674fb1c7dcd'\n  }\n)\n\nconst particlesParams = {\n  particles: {\n    line_linked: {\n      shadow: {\n        enable: true,\n        color: \"#3CA9D1\",\n        blur: 5\n      }\n    },\n    number: {\n      density: {\n        enable: true,\n        value_area: 800,\n      },\n      value: 120,\n    }\n  }\n}\n\nclass App extends Component{\n  constructor(){\n    super();\n    this.state = {\n      // input and imageURL contain the same data\n      input:'',\n      imageURL:'',\n      box: {},\n      route: 'signin',\n      user:{\n        id:0,\n        name:'',\n        email:'',\n        entries:0,\n        joined:''\n      }\n    }\n  }\n\n  loadUser = (user) => {\n    this.setState({user:user});\n  }\n\n  componentDidMount(){\n    fetch('http://localhost:3100')\n      .then(resp => resp.json())\n      .then(data => console.log(data))\n  }\n\n  calcFaceLocation = (data) => {\n    const { top_row, \n            left_col, \n            right_col, \n            bottom_row } = data.outputs[0].data.regions[0].region_info.bounding_box;\n    const image = document.getElementById('inputImg');\n    const width = Number(image.width);\n    const height = Number(image.height);\n    // console.log(width, height);\n    // this object mimics how position works in css\n    // see: https://css-tricks.com/almanac/properties/t/top-right-bottom-left/\n    return {\n      left : left_col * width,\n      top : top_row * height,\n      right: width - (right_col * width),\n      bottom : height - (bottom_row * height)\n    }\n  }\n\n  displayFaceBox = (box) => {\n    // console.log('box', box);\n    this.setState({box:box});\n  }\n\n  updateRank = () => {\n    const { user } = this.state;\n    fetch(`http://localhost:3100/image`, {\n      method:'put',\n      headers:{'Content-type': 'application/json'},\n      body: JSON.stringify({\n       email:user.email \n      })\n    })\n      .then (resp => resp.json())\n      .then (count => {\n        if (count){\n          // console.log('count', count);\n          this.setState(Object.assign(this.state.user,{entries:count}));\n        }\n      })\n      .catch(error => console.log(error))\n  }\n\n  onInputChange = (event) => {\n    this.setState({input: event.target.value});\n  } \n\n  onSubmit = (event) => {\n    this.setState({imageURL: this.state.input});\n    app.models\n      .predict(\n        Clarifai.FACE_DETECT_MODEL,\n        this.state.input)\n      .then(resp => {\n        const box = this.calcFaceLocation(resp);\n        this.displayFaceBox(box);\n        this.updateRank();\n        // 'https://samples.clarifai.com/face-det.jpg')\n        // console.log(resp);\n        // console.log(resp.outputs[0].data.regions[0].region_info.bounding_box);\n        // resp.outputs[0].data.regions.forEach(region => {\n        //    console.log(region.region_info.bounding_box);\n        // });\n      })\n      .catch(err => console.log(err));\n  }\n\n  onRouteChange = (route) => {\n    // console.log('state', this.state);\n    this.setState({route:route});\n  }\n\n  render(){\n    const route = this.state.route;\n    return (\n      <div className=\"App\">\n        <Particles className='particles'\n                params={particlesParams}\n        />\n        <Navbar route={this.state.route} onRouteChange={this.onRouteChange}/>\n        {\n          route === 'signin' &&  <Signin onRouteChange={this.onRouteChange} \n                                  loadUser={this.loadUser} />\n        }\n        {\n          route === 'signup' && <Signup onRouteChange={this.onRouteChange} \n                                loadUser={this.loadUser} />\n        }\n          \n         {\n            route === 'home' &&\n            <div>\n                <Rank name={this.state.user.name} rank={this.state.user.entries}/>\n                <ImageForm onInputChange = {this.onInputChange} onSubmit = {this.onSubmit}/>\n                <FaceRecognition imageURL = {this.state.imageURL} box = {this.state.box} />\n            </div>\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n",["57","58"],"C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\auth\\Signup.jsx",[],"C:\\Users\\alfio\\Programming\\WebProg\\Udemy\\ZeroToMaster\\Section23\\smartbrain\\src\\components\\Navbar.jsx",[],{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","severity":1,"message":"64","line":3,"column":8,"nodeType":"65","messageId":"66","endLine":3,"endColumn":18},{"ruleId":"59","replacedBy":"67"},{"ruleId":"61","replacedBy":"68"},"no-native-reassign",["69"],"no-negated-in-lhs",["70"],"no-unused-vars","'Navigation' is defined but never used.","Identifier","unusedVar",["69"],["70"],"no-global-assign","no-unsafe-negation"]