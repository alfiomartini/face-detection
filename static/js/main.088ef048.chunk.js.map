{"version":3,"sources":["components/ImageForm.jsx","components/Rank.jsx","components/FaceRecognition.jsx","Consts.jsx","components/auth/Signin.jsx","components/auth/Signup.jsx","components/Navbar.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["ImageForm","props","onInputChange","onSubmit","className","type","onChange","onClick","Rank","name","rank","FaceRecognition","imageURL","boxes","console","log","boxList","map","box","index","style","top","right","left","bottom","src","alt","id","API_URL","initState","input","loaded","route","user","email","entries","joined","particlesParams","particles","line_linked","shadow","enable","color","blur","number","density","value_area","value","Signin","onEmailChange","event","setState","signInEmail","target","onPasswordChange","signInPassword","onSubmitSignin","state","fetch","method","headers","body","JSON","stringify","password","then","resp","json","data","status","obj","loadUser","onRouteChange","message","document","querySelector","innerHTML","classList","remove","catch","error","this","htmlFor","placeholder","Component","Signup","onNameChange","signUpName","signUpEmail","signUpPassword","onSubmitSignup","Navbar","data-toggle","data-target","aria-controls","aria-expanded","aria-label","App","calcFacesLocations","image","getElementById","width","Number","height","outputs","regions","region","region_info","bounding_box","top_row","left_col","right_col","bottom_row","calcFaceLocation","displayFaceBox","displayFacesBoxes","updateRank","count","Object","assign","image_url","err","params","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.088ef048.chunk.js","sourcesContent":["import React from 'react';\r\nimport './ImageForm.css';\r\n\r\nconst ImageForm = (props) => {\r\n  const { onInputChange, onSubmit } = props;\r\n  return (\r\n    <div className='mt-4 image-form'>\r\n      <p>Detect faces in your pictures. Give it a try!</p>\r\n      <div className=''>\r\n        <input className='' type=\"text\" onChange = {onInputChange}/>\r\n        <button className='btn btn-dark btn-sm ml-2 py-1' onClick={onSubmit}> Detect</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImageForm;","import React from 'react';\r\nimport './Rank.css';\r\n\r\nconst Rank = (props) => {\r\n  const { name, rank } = props;\r\n  return (\r\n    <div className='rank mt-4 text-center'>\r\n      <div className='rank-message'>\r\n        {`${name}, your current rank is ...`}\r\n      </div>\r\n      <div className='rank-number'>\r\n        {`${rank}`}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Rank;","import React from 'react';\r\nimport './FaceRecognition.css';\r\n\r\nconst FaceRecognition = (props) => {\r\n  const { imageURL, boxes } = props;\r\n  console.log('Face boxes image', boxes);\r\n  const boxList = boxes.map((box, index) => {\r\n      return (\r\n        <div className='bounding-box' key={index}\r\n          style={{top:box.top, right:box.right, left:box.left, bottom:box.bottom }}>\r\n        </div>\r\n      )\r\n  });\r\n  return (\r\n    <div className='face-image mt-3'>\r\n      <div className='image-box'>\r\n        <img src={imageURL} alt='' id= 'inputImg' />\r\n        <div>{boxList}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FaceRecognition;"," \r\nconst API_URL = 'https://facedet-api.herokuapp.com'\r\n// const API_URL = 'http://localhost:3100'\r\n\r\nconst initState = {\r\n  // input and imageURL contain the same data\r\n  input:'',\r\n  imageURL:'',\r\n  loaded:false,\r\n  box: {},\r\n  boxes:[],\r\n  route: 'signin',\r\n  user:{\r\n    id:0,\r\n    name:'',\r\n    email:'',\r\n    entries:0,\r\n    joined:''\r\n  }\r\n}\r\n\r\nconst particlesParams = {\r\n  particles: {\r\n    line_linked: {\r\n      shadow: {\r\n        enable: true,\r\n        color: \"#3CA9D1\",\r\n        blur: 5\r\n      }\r\n    },\r\n    number: {\r\n      density: {\r\n        enable: true,\r\n        value_area: 800,\r\n      },\r\n      value: 120,\r\n    }\r\n  }\r\n}\r\n\r\nexport { particlesParams, initState, API_URL }","import { React, Component }  from 'react';\r\nimport './Signin.css';\r\nimport { API_URL } from '../../Consts';\r\n\r\n// destructuring in a react class\r\n// https://medium.com/@lcriswell/destructuring-props-in-react-b1c295005ce0\r\n\r\nclass Signin extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      signInEmail:'',\r\n      signInPassword:''\r\n    }\r\n  }\r\n\r\n  onEmailChange = (event) => {\r\n    this.setState({signInEmail:event.target.value});\r\n  }\r\n\r\n  onPasswordChange = (event) => {\r\n    this.setState({signInPassword:event.target.value});\r\n  }\r\n\r\n  onSubmitSignin = () => {\r\n    const { signInEmail, signInPassword} = this.state;\r\n    fetch(`${API_URL}/signin`, {\r\n      method:'post',\r\n      headers:{'Content-type': 'application/json'},\r\n      body: JSON.stringify({\r\n        email:signInEmail,\r\n        password:signInPassword\r\n      })\r\n    })\r\n      .then(resp => resp.json().then(data => {\r\n        return ({status: resp.status, body: data})\r\n      }))\r\n      .then(obj => {\r\n        console.log('resp', obj);\r\n        if (obj.status === 200){\r\n          this.props.loadUser(obj.body.user);\r\n          this.props.onRouteChange('home');\r\n        }\r\n        else {\r\n          const message = document.querySelector('.signin-error');\r\n          message.innerHTML = obj.body.message;\r\n          message.classList.remove('signin-error-hide');\r\n        }\r\n      })\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  render(){\r\n    const { onRouteChange} = this.props;\r\n    return (\r\n      <div  className='signin-form'>\r\n        <h4 className='text-center'>Sign in </h4>\r\n        <div className='mb-3'>\r\n          <label htmlFor=\"email\" className='mb-2'>Email</label>\r\n          <input onChange={this.onEmailChange} \r\n          placeholder=\"email\"  \r\n          className='form-control' type=\"email\" name='email' id='email'/>\r\n        </div>\r\n        <div className='mb-3'>\r\n          <label htmlFor=\"password\" className='mb-2'>Password</label>\r\n          <input onChange={this.onPasswordChange} \r\n           placeholder='password'  \r\n          className='form-control' type=\"password\" name='password'id='password'/>\r\n        </div>\r\n        <div className='signin-error signin-error-hide text-center my-3'>\r\n        </div>\r\n        <div className='form-btns'>\r\n          <button type='submit' className='btn btn-outline-primary'\r\n          onClick={this.onSubmitSignin}>Sign in</button>\r\n          <button type='button' className='btn btn-dark border boder-light'\r\n           onClick={() => onRouteChange('signup')}>Sign up</button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}  \r\n  \r\nexport default Signin;","import { React, Component } from 'react';\r\nimport './Signup.css';\r\nimport { API_URL } from '../../Consts';\r\n\r\nclass Signup extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      signUpName:'',\r\n      signUpEmail:'',\r\n      signUpPassword:''\r\n    }\r\n  }\r\n\r\n  onNameChange = (event) => {\r\n    this.setState({signUpName:event.target.value});\r\n  }\r\n\r\n  onEmailChange = (event) => {\r\n    this.setState({signUpEmail:event.target.value});\r\n  }\r\n\r\n  onPasswordChange = (event) => {\r\n    this.setState({signUpPassword:event.target.value});\r\n  }\r\n\r\n  onSubmitSignup = () => {\r\n    const {signUpName, signUpEmail, signUpPassword} = this.state;\r\n    fetch(`${API_URL}/register`, {\r\n      method:'post',\r\n      headers:{'Content-type': 'application/json'},\r\n      body: JSON.stringify({\r\n        name:signUpName,\r\n        email:signUpEmail,\r\n        password:signUpPassword\r\n      })\r\n    })\r\n    .then(resp => resp.json().then(data => {\r\n      return ({status: resp.status, body: data})\r\n    }))\r\n    .then(obj => {\r\n      console.log('resp', obj);\r\n      if (obj.status === 200){\r\n        this.props.loadUser(obj.body.user);\r\n        this.props.onRouteChange('home');\r\n      }\r\n      else {\r\n        const message = document.querySelector('.signup-error');\r\n        message.innerHTML = obj.body.message;\r\n        message.classList.remove('signup-error-hide');\r\n      }\r\n    })\r\n    .catch(error => console.log(error));\r\n  }\r\n  render(){\r\n    return (\r\n      <div className='signin-form'>\r\n        <h4 className='text-center'>Sign up </h4>\r\n        <div className='mb-3'>\r\n          <label htmlFor=\"name\" className='mb-2'>Name</label>\r\n          <input onChange={this.onNameChange}\r\n          className='form-control' type=\"text\" name='name' id='name'/>\r\n        </div>\r\n        <div className='mb-3'>\r\n          <label htmlFor=\"email\" className='mb-2'>Email</label>\r\n          <input onChange={this.onEmailChange}\r\n          className='form-control' type=\"email\" name='email' id='email'/>\r\n        </div>\r\n        <div className='mb-3'>\r\n          <label htmlFor=\"password\" className='mb-2'>Password</label>\r\n          <input onChange={this.onPasswordChange}\r\n          className='form-control' type=\"password\" name='password'id='password' />\r\n        </div>\r\n        <div className='signup-error signup-error-hide text-center my-3'>\r\n        </div>\r\n        <div className='form-btns'>\r\n          <button type='submit' className='btn btn-outline-primary'\r\n          onClick={this.onSubmitSignup}>Sign up</button>\r\n         <button type='submit' className='btn btn-dark border boder-light'\r\n          onClick={() => this.props.onRouteChange('signin')}>Sign in</button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Signup;","import React from 'react';\r\nimport './Navbar.css';\r\n\r\nconst Navbar = (props) => {\r\n  const { route, onRouteChange } = props;\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n      <div className=\"container-fluid\">\r\n        <span className=\"navbar-brand\" >Navbar</span>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n          {(route === 'signin' || route === 'signup') && \r\n            <ul className=\"navbar-nav\">\r\n              <li className=\"nav-item\" onClick={()=>onRouteChange('signin')}>\r\n                <span className=\"nav-link\">Sign in</span>\r\n              </li>\r\n              <li className=\"nav-item\" onClick={()=>onRouteChange('signup')}>\r\n                <span className=\"nav-link\" >Sign up</span>\r\n              </li>\r\n            </ul>\r\n          }\r\n          {route  === 'home' && \r\n            <ul className=\"navbar-nav\">\r\n              <li className=\"nav-item\" onClick={()=>onRouteChange('signin')}>\r\n                <span className=\"nav-link\" >Sign out</span>\r\n              </li>\r\n            </ul>\r\n          }\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar;","import { React, Component } from 'react';\r\nimport './App.css';\r\nimport ImageForm from './components/ImageForm.jsx';\r\nimport Rank from './components/Rank.jsx';\r\nimport Particles from 'react-particles-js';\r\nimport FaceRecognition from './components/FaceRecognition.jsx'\r\nimport Signin from './components/auth/Signin.jsx';\r\nimport Signup from './components/auth/Signup.jsx';\r\nimport Navbar from './components/Navbar';\r\nimport {particlesParams, initState, API_URL } from './Consts';\r\n\r\nclass App extends Component{\r\n  constructor(){\r\n    super();\r\n    this.state =  initState;\r\n  }\r\n\r\n  loadUser = (user) => {\r\n    initState.user = user;\r\n    this.setState(initState);\r\n  }\r\n\r\n  componentDidMount(){\r\n    fetch(API_URL)\r\n      .then(resp => resp.json())\r\n      .then(data => console.log(data))\r\n  }\r\n\r\n  calcFacesLocations = (data) => {\r\n    const image = document.getElementById('inputImg');\r\n    const width = Number(image.width);\r\n    const height = Number(image.height);\r\n    console.log('data regions', data.outputs[0].data.regions);\r\n    const boxes = data.outputs[0].data.regions.map((region, index) => {\r\n      const { top_row, \r\n        left_col, \r\n        right_col, \r\n        bottom_row } = \r\n           data.outputs[0].data.regions[index].region_info.bounding_box;\r\n        return {\r\n          left : left_col * width,\r\n          top : top_row * height,\r\n          right: width - (right_col * width),\r\n          bottom : height - (bottom_row * height)\r\n        }\r\n      });\r\n      return boxes;\r\n  }\r\n\r\n  calcFaceLocation = (data) => {\r\n    const { top_row, \r\n            left_col, \r\n            right_col, \r\n            bottom_row } = data.outputs[0].data.regions[0].region_info.bounding_box;\r\n    const image = document.getElementById('inputImg');\r\n    const width = Number(image.width);\r\n    const height = Number(image.height);\r\n    // console.log(width, height);\r\n    // this object mimics how position works in css\r\n    // see: https://css-tricks.com/almanac/properties/t/top-right-bottom-left/\r\n    return {\r\n      left : left_col * width,\r\n      top : top_row * height,\r\n      right: width - (right_col * width),\r\n      bottom : height - (bottom_row * height)\r\n    }\r\n  }\r\n\r\n  displayFaceBox = (box) => {\r\n    this.setState({box:box});\r\n  }\r\n\r\n  displayFacesBoxes = (boxes) => {\r\n    this.setState({boxes:boxes});\r\n  }\r\n\r\n  updateRank = () => {\r\n    const { user } = this.state;\r\n    fetch(`${API_URL}/image`, {\r\n      method:'put',\r\n      headers:{'Content-type': 'application/json'},\r\n      body: JSON.stringify({\r\n       email:user.email \r\n      })\r\n    })\r\n      .then (resp => resp.json())\r\n      .then (count => {\r\n        if (count){\r\n          // console.log('count', count);\r\n          this.setState(Object.assign(this.state.user,{entries:count}));\r\n        }\r\n      })\r\n      .catch(error => console.log(error))\r\n  }\r\n\r\n  onInputChange = (event) => {\r\n    this.setState({input: event.target.value});\r\n  } \r\n\r\n  onSubmit = (event) => {\r\n    this.setState({imageURL: this.state.input,\r\n                  boxes:[]});\r\n    fetch(`${API_URL}/model`, {\r\n      method:'post',\r\n      headers:{'Content-type': 'application/json'},\r\n      body: JSON.stringify({\r\n       image_url: this.state.input\r\n      })\r\n    })\r\n    .then(resp => resp.json().then(data => {\r\n      return {status: resp.status, body: data};\r\n    }))\r\n    .then(resp => {\r\n      if (resp.status === 200){\r\n        // const box = this.calcFaceLocation(resp.body);\r\n        // this.displayFaceBox(box);\r\n        const boxes = this.calcFacesLocations(resp.body);\r\n        this.displayFacesBoxes(boxes);\r\n        this.updateRank();\r\n      }\r\n      // 'https://samples.clarifai.com/face-det.jpg')\r\n    })\r\n    .catch(err => console.log(err));\r\n  }\r\n\r\n  onRouteChange = (route) => {\r\n    // console.log('state', this.state);\r\n    this.setState({route:route});\r\n  }\r\n\r\n  render(){\r\n    const route = this.state.route;\r\n    return (\r\n      <div className=\"App\">\r\n        <Particles className='particles'\r\n                params={particlesParams}\r\n        />\r\n        <Navbar route={this.state.route} onRouteChange={this.onRouteChange}/>\r\n        {\r\n          route === 'signin' &&  <Signin onRouteChange={this.onRouteChange} \r\n                                  loadUser={this.loadUser} />\r\n        }\r\n        {\r\n          route === 'signup' && <Signup onRouteChange={this.onRouteChange} \r\n                                loadUser={this.loadUser} />\r\n        }\r\n          \r\n         {\r\n            route === 'home' &&\r\n            <div>\r\n                <Rank name={this.state.user.name} rank={this.state.user.entries}/>\r\n                <ImageForm onInputChange = {this.onInputChange} onSubmit = {this.onSubmit}/>\r\n                {\r\n                  // this.loaded && \r\n                  <FaceRecognition \r\n                      imageURL = {this.state.imageURL} \r\n                      box = {this.state.box}\r\n                      boxes = {this.state.boxes}\r\n                   />\r\n                }\r\n            </div>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport '../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js';\r\nimport './index.css';\r\nimport App from './App.jsx';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}